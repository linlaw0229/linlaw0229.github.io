<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>159. Longest Substring with At Most Two Distinct Characters | linlaw Techblog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">159. Longest Substring with At Most Two Distinct Characters</h1><a id="logo" href="/.">linlaw Techblog</a><p class="description">Make the change you want to see in the world.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> home</i></a><a href="/archives/"><i class="fa fa-archive"> archive</i></a><a href="/about/"><i class="fa fa-user"> about</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">159. Longest Substring with At Most Two Distinct Characters</h1><div class="post-meta">Jun 6, 2018<span> | </span><span class="category"><a href="/categories/leetcode/">leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><h1 id="Problem-description"><a href="#Problem-description" class="headerlink" title="Problem description:"></a>Problem description:</h1><p>Given a string s , find the length of the longest substring t  that contains at most 2 distinct characters.</p>
<p>Example 1:</p>
<p>Input: “eceba”<br>Output: 3<br>Explanation: t is “ece” which its length is 3.<br>Example 2:</p>
<p>Input: “ccaabbb”<br>Output: 5<br>Explanation: t is “aabbb” which its length is 5.</p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h1><p>This question belong to the same category as those such as “longest substring without repeating characters”, “minimum window substring”, and “substring with concatenation of all words”. To solve this kind of question we can use two pointers and a hash table. When the key of the hash table is char, we can simply use an array as the hash table. The most important idea in solving this kind of questions is “how to update the “start” pointer” and the solution to these questions seem usually differ only in this respect.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>, left = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i) &#123;</span><br><span class="line">            ++m[s[i]];</span><br><span class="line">            <span class="keyword">while</span> (m.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (--m[s[left]] == <span class="number">0</span>) m.erase(s[left]);</span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">            res = max(res, i - left + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Solution2:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">-1</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; s.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == s[i - <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">//current position character is the same as previous one</span></span><br><span class="line">            <span class="keyword">if</span> (right &gt;= <span class="number">0</span> &amp;&amp; s[right] != s[i]) &#123;</span><br><span class="line">                res = max(res, i - left);</span><br><span class="line">                left = right + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            right = i - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//1. first time would be have two different character</span></span><br><span class="line">            <span class="comment">//2. after that, j means: when see different character, then move the end pointer j to previous substring</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max(<span class="keyword">int</span>(s.length()) - left, res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"><a href="/tags/leetcode/">leetcode</a><a href="/tags/hard/">hard</a><a href="/tags/string/">string</a><a href="/tags/two-pointers/">two pointers</a><a href="/tags/hash-table/">hash table</a></div><div class="post-nav"><a class="pre" href="/2018/06/06/340-Longest-Substring-with-At-Most-K-Distinct-Characters/">340. Longest Substring with At Most K Distinct Characters</a><a class="next" href="/2018/06/06/3-Longest-Substring-Without-Repeating-Characters/">3. Longest Substring Without Repeating Characters</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/STL/">STL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/amazon/">amazon</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/google/">google</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/microsoft/">microsoft</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming-language/">programming language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming-language/study/">study</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tutorial/">tutorial</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/uber/">uber</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> tags</i></div><div class="tagcloud"><a href="/tags/adobe/" style="font-size: 15px;">adobe</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/easy/" style="font-size: 15px;">easy</a> <a href="/tags/hard/" style="font-size: 15px;">hard</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/dynamic-programming/" style="font-size: 15px;">dynamic programming</a> <a href="/tags/backtracking/" style="font-size: 15px;">backtracking</a> <a href="/tags/facebook/" style="font-size: 15px;">facebook</a> <a href="/tags/microsoft/" style="font-size: 15px;">microsoft</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/apple/" style="font-size: 15px;">apple</a> <a href="/tags/bfs/" style="font-size: 15px;">bfs</a> <a href="/tags/medium/" style="font-size: 15px;">medium</a> <a href="/tags/array/" style="font-size: 15px;">array</a> <a href="/tags/dfs/" style="font-size: 15px;">dfs</a> <a href="/tags/amazon/" style="font-size: 15px;">amazon</a> <a href="/tags/dp/" style="font-size: 15px;">dp</a> <a href="/tags/two-pointers/" style="font-size: 15px;">two pointers</a> <a href="/tags/union-find/" style="font-size: 15px;">union find</a> <a href="/tags/uber/" style="font-size: 15px;">uber</a> <a href="/tags/pure-storage/" style="font-size: 15px;">pure storage</a> <a href="/tags/graph/" style="font-size: 15px;">graph</a> <a href="/tags/hash-table/" style="font-size: 15px;">hash table</a> <a href="/tags/linked-list/" style="font-size: 15px;">linked list</a> <a href="/tags/sort/" style="font-size: 15px;">sort</a> <a href="/tags/merge-sort/" style="font-size: 15px;">merge sort</a> <a href="/tags/stack/" style="font-size: 15px;">stack</a> <a href="/tags/linkedin/" style="font-size: 15px;">linkedin</a> <a href="/tags/binary-search/" style="font-size: 15px;">binary search</a> <a href="/tags/yelp/" style="font-size: 15px;">yelp</a> <a href="/tags/two-pointer/" style="font-size: 15px;">two pointer</a> <a href="/tags/topological-sort/" style="font-size: 15px;">topological sort</a> <a href="/tags/trie/" style="font-size: 15px;">trie</a> <a href="/tags/design/" style="font-size: 15px;">design</a> <a href="/tags/heap/" style="font-size: 15px;">heap</a> <a href="/tags/airbnb/" style="font-size: 15px;">airbnb</a> <a href="/tags/divide-and-conquer/" style="font-size: 15px;">divide and conquer</a> <a href="/tags/lyft/" style="font-size: 15px;">lyft</a> <a href="/tags/math/" style="font-size: 15px;">math</a> <a href="/tags/recursion/" style="font-size: 15px;">recursion</a> <a href="/tags/Floyd-s-Tortoise-and-Hare-Algorithm/" style="font-size: 15px;">Floyd's Tortoise and Hare Algorithm</a> <a href="/tags/bloomberg/" style="font-size: 15px;">bloomberg</a> <a href="/tags/tree/" style="font-size: 15px;">tree</a> <a href="/tags/epic-system/" style="font-size: 15px;">epic system</a> <a href="/tags/binary-indexed-tree/" style="font-size: 15px;">binary indexed tree</a> <a href="/tags/permutation/" style="font-size: 15px;">permutation</a> <a href="/tags/brainteaser/" style="font-size: 15px;">brainteaser</a> <a href="/tags/queue/" style="font-size: 15px;">queue</a> <a href="/tags/bucket-sort/" style="font-size: 15px;">bucket sort</a> <a href="/tags/greedy/" style="font-size: 15px;">greedy</a> <a href="/tags/peak/" style="font-size: 15px;">peak</a> <a href="/tags/adobe-facebook/" style="font-size: 15px;">adobe facebook</a> <a href="/tags/bit-manipulation/" style="font-size: 15px;">bit manipulation</a> <a href="/tags/greddy/" style="font-size: 15px;">greddy</a> <a href="/tags/BFS/" style="font-size: 15px;">BFS</a> <a href="/tags/sliding-window/" style="font-size: 15px;">sliding window</a> <a href="/tags/partition/" style="font-size: 15px;">partition</a> <a href="/tags/subset/" style="font-size: 15px;">subset</a> <a href="/tags/east/" style="font-size: 15px;">east</a> <a href="/tags/snapchat/" style="font-size: 15px;">snapchat</a> <a href="/tags/STL/" style="font-size: 15px;">STL</a> <a href="/tags/C-11/" style="font-size: 15px;">C++ 11</a> <a href="/tags/MSDN/" style="font-size: 15px;">MSDN</a> <a href="/tags/double-linked-list/" style="font-size: 15px;">double linked list</a> <a href="/tags/BST/" style="font-size: 15px;">BST</a> <a href="/tags/cycle-detection/" style="font-size: 15px;">cycle detection</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a> <a href="/tags/space-complexity/" style="font-size: 15px;">space complexity</a> <a href="/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/tags/tree-traversal/" style="font-size: 15px;">tree traversal</a> <a href="/tags/preorder/" style="font-size: 15px;">preorder</a> <a href="/tags/inorder/" style="font-size: 15px;">inorder</a> <a href="/tags/postorder/" style="font-size: 15px;">postorder</a> <a href="/tags/binary-tree/" style="font-size: 15px;">binary tree</a> <a href="/tags/blockchain/" style="font-size: 15px;">blockchain</a> <a href="/tags/refer/" style="font-size: 15px;">refer</a> <a href="/tags/job/" style="font-size: 15px;">job</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/tutorial/" style="font-size: 15px;">tutorial</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/binary-search-tree/" style="font-size: 15px;">binary search tree</a> <a href="/tags/complete-binary-tree/" style="font-size: 15px;">complete binary tree</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/09/03/Flatten-a-multilevel-linked-list/">Flatten a multilevel linked list</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/03/157-Read-N-Characters-Given-Read4/">157. Read N Characters Given Read4</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/02/129-Sum-Root-to-Leaf-Numbers/">129. Sum Root to Leaf Numbers</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/01/30-Substring-with-Concatenation-of-All-Words/">30. Substring with Concatenation of All Words</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/01/23-Merge-k-Sorted-Lists/">23. Merge k Sorted Lists</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/01/399-Evaluate-Division/">399. Evaluate Division</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/31/491-Increasing-Subsequences/">491. Increasing Subsequences</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/31/636-Exclusive-Time-of-Functions/">636. Exclusive Time of Functions</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/31/429-N-ary-Tree-Level-Order-Traversal/">429. N-ary Tree Level Order Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/30/251-Flatten-2D-Vector/">251. Flatten 2D Vector</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> blogroll</i></div><ul></ul><a href="https://www.linkedin.com/in/lawrence0229/" title="linlaw's Linkedin" target="_blank">linlaw's Linkedin</a><ul></ul><a href="https://github.com/linlaw0229" title="linlaw's Github" target="_blank">linlaw's Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">linlaw Techblog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></div><!--  a(rel='nofollow', target='_blank', href='https://github.com/tufu9441/maupassant-hexo')  Theme|  by
a(rel='nofollow', target='_blank', href='https://github.com/pagecho')  Cho.--></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>