<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>156. Binary Tree Upside Down | linlaw Techblog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script data-ad-client="pub-6040696674298327" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">156. Binary Tree Upside Down</h1><a id="logo" href="/.">linlaw Techblog</a><p class="description">Make the change you want to see in the world.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> home</i></a><a href="/archives/"><i class="fa fa-archive"> archive</i></a><a href="/about/"><i class="fa fa-user"> about</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">156. Binary Tree Upside Down</h1><div class="post-meta">Jul 19, 2021<span> | </span><span class="category"><a href="/categories/leetcode/">leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><h3 id="Problem-description"><a href="#Problem-description" class="headerlink" title="Problem description:"></a>Problem description:</h3><p>Given the <code>root</code> of a binary tree, turn the tree upside down and return <em>the new root</em>.</p>
<p>You can turn a binary tree upside down with the following steps:</p>
<ol>
<li>The original left child becomes the new root.</li>
<li>The original root becomes the new right child.</li>
<li>The original right child becomes the new left child.</li>
</ol>
<p><img src="https://assets.leetcode.com/uploads/2020/08/29/main.jpg" alt="https://assets.leetcode.com/uploads/2020/08/29/main.jpg"></p>
<p>The mentioned steps are done level by level, it is <strong>guaranteed</strong> that every node in the given tree has either <strong>0 or 2 children</strong>.</p>
<p><strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/08/29/updown.jpg" alt="https://assets.leetcode.com/uploads/2020/08/29/updown.jpg"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [1,2,3,4,5]</span><br><span class="line">Output: [4,5,2,null,null,3,1]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: root = []</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [1]</span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>The number of nodes in the tree will be in the range <code>[0, 10]</code>.</li>
<li><code>1 &lt;= Node.val &lt;= 10</code></li>
<li>Every right node in the tree has a sibling (a left node that shares the same parent).</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h3><p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/216fc4c7-bf7d-46f8-a7fc-1b5b2599fcd4/Untitled.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/216fc4c7-bf7d-46f8-a7fc-1b5b2599fcd4/Untitled.png"></p>
<p>As the recursive solution, we will keep recurse on the left child and once we are are done, we found the newRoot, which is 4 for this case. At this point, we will need to set the new children for node 2, basically the new left node is 3, and right node is 1. Here is the recursive solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">upsideDownBinaryTree</span><span class="params">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root <span class="keyword">or</span> <span class="keyword">not</span> root.left:</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        </span><br><span class="line">        newRoot = self.upsideDownBinaryTree(root.left)</span><br><span class="line">        root.left.left = root.right</span><br><span class="line">        root.left.right = root</span><br><span class="line">        root.left = <span class="keyword">None</span></span><br><span class="line">        root.right = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">return</span> newRoot</span><br></pre></td></tr></table></figure>
<p>For the iterative solution, it follows the same thought, the only thing we need to pay attention to is to save the node information that will be overwritten.</p>
<p><img src="https://assets.leetcode.com/users/images/cc5350ec-0158-4582-9163-fcbe37dd5cd6_1601421096.4278862.png" alt="https://assets.leetcode.com/users/images/cc5350ec-0158-4582-9163-fcbe37dd5cd6_1601421096.4278862.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">upsideDownBinaryTree</span><span class="params">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class="line">        <span class="comment"># iterative</span></span><br><span class="line">        cur = root</span><br><span class="line">        pre = next = tmp = <span class="keyword">None</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            next = cur.left</span><br><span class="line">            cur.left = tmp</span><br><span class="line">            tmp = cur.right</span><br><span class="line">            cur.right = pre</span><br><span class="line">            </span><br><span class="line">            pre = cur</span><br><span class="line">            cur = next</span><br><span class="line">        <span class="keyword">return</span> pre</span><br></pre></td></tr></table></figure>
<p>time complexity: $O()$<br>space complexity: $O()$<br>reference:<br><a href="https://leetcode.com/problems/binary-tree-upside-down/discuss/49406/Java-recursive-(O(logn)-space)-and-iterative-solutions-(O(1)-space)-with-explanation-and-figure" target="_blank" rel="noopener">https://leetcode.com/problems/binary-tree-upside-down/discuss/49406/Java-recursive-(O(logn)-space)-and-iterative-solutions-(O(1)-space)-with-explanation-and-figure</a></p>
<p>related problem:<br></p>
</div><div class="tags"><a href="/tags/easy-medium-hard/">easy medium hard</a></div><div class="post-nav"><a class="pre" href="/2021/07/20/12-Integer-to-Roman/">12. Integer to Roman</a><a class="next" href="/2021/07/19/101-Symmetric-Tree/">101. Symmetric Tree</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Reading/">Reading</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/STL/">STL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/behavioral-question/">behavioral question</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/behavioral-question/amazon/">amazon</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/google/">google</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/amazon/">amazon</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/hash-table/">hash table</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/hash-table/design/">design</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/linked-list/">linked list</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/note/">note</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/microsoft/">microsoft</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming-language/">programming language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming-language/study/">study</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/project/">project</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/study/">study</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/study/programming-language/">programming language</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tutorial/">tutorial</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> tags</i></div><div class="tagcloud"><a href="/tags/adobe-facebook/" style="font-size: 15px;">adobe facebook</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/easy/" style="font-size: 15px;">easy</a> <a href="/tags/easy-medium-hard/" style="font-size: 15px;">easy medium hard</a> <a href="/tags/hard/" style="font-size: 15px;">hard</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/dynamic-programming/" style="font-size: 15px;">dynamic programming</a> <a href="/tags/backtracking/" style="font-size: 15px;">backtracking</a> <a href="/tags/facebook/" style="font-size: 15px;">facebook</a> <a href="/tags/microsoft/" style="font-size: 15px;">microsoft</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/apple/" style="font-size: 15px;">apple</a> <a href="/tags/medium/" style="font-size: 15px;">medium</a> <a href="/tags/bfs/" style="font-size: 15px;">bfs</a> <a href="/tags/stack/" style="font-size: 15px;">stack</a> <a href="/tags/amazon/" style="font-size: 15px;">amazon</a> <a href="/tags/array/" style="font-size: 15px;">array</a> <a href="/tags/dfs/" style="font-size: 15px;">dfs</a> <a href="/tags/two-pointers/" style="font-size: 15px;">two pointers</a> <a href="/tags/hash-table/" style="font-size: 15px;">hash table</a> <a href="/tags/greedy/" style="font-size: 15px;">greedy</a> <a href="/tags/sorting/" style="font-size: 15px;">sorting</a> <a href="/tags/dp/" style="font-size: 15px;">dp</a> <a href="/tags/binary-search/" style="font-size: 15px;">binary search</a> <a href="/tags/sliding-window/" style="font-size: 15px;">sliding window</a> <a href="/tags/BFS/" style="font-size: 15px;">BFS</a> <a href="/tags/design/" style="font-size: 15px;">design</a> <a href="/tags/union-find/" style="font-size: 15px;">union find</a> <a href="/tags/uber/" style="font-size: 15px;">uber</a> <a href="/tags/graph/" style="font-size: 15px;">graph</a> <a href="/tags/math/" style="font-size: 15px;">math</a> <a href="/tags/pure-storage/" style="font-size: 15px;">pure storage</a> <a href="/tags/linked-list/" style="font-size: 15px;">linked list</a> <a href="/tags/citrix/" style="font-size: 15px;">citrix</a> <a href="/tags/sort/" style="font-size: 15px;">sort</a> <a href="/tags/merge-sort/" style="font-size: 15px;">merge sort</a> <a href="/tags/linkedin/" style="font-size: 15px;">linkedin</a> <a href="/tags/bloomberg/" style="font-size: 15px;">bloomberg</a> <a href="/tags/two-pointer/" style="font-size: 15px;">two pointer</a> <a href="/tags/yelp/" style="font-size: 15px;">yelp</a> <a href="/tags/heap/" style="font-size: 15px;">heap</a> <a href="/tags/trie/" style="font-size: 15px;">trie</a> <a href="/tags/topological-sort/" style="font-size: 15px;">topological sort</a> <a href="/tags/adobe/" style="font-size: 15px;">adobe</a> <a href="/tags/binary-search-tree/" style="font-size: 15px;">binary search tree</a> <a href="/tags/airbnb/" style="font-size: 15px;">airbnb</a> <a href="/tags/divide-and-conquer/" style="font-size: 15px;">divide and conquer</a> <a href="/tags/lyft/" style="font-size: 15px;">lyft</a> <a href="/tags/recursion/" style="font-size: 15px;">recursion</a> <a href="/tags/Floyd-s-Tortoise-and-Hare-Algorithm/" style="font-size: 15px;">Floyd's Tortoise and Hare Algorithm</a> <a href="/tags/binary-indexed-tree/" style="font-size: 15px;">binary indexed tree</a> <a href="/tags/epic-system/" style="font-size: 15px;">epic system</a> <a href="/tags/permutation/" style="font-size: 15px;">permutation</a> <a href="/tags/brainteaser/" style="font-size: 15px;">brainteaser</a> <a href="/tags/bit-manipulation/" style="font-size: 15px;">bit manipulation</a> <a href="/tags/queue/" style="font-size: 15px;">queue</a> <a href="/tags/bucket-sort/" style="font-size: 15px;">bucket sort</a> <a href="/tags/has-table/" style="font-size: 15px;">has table</a> <a href="/tags/peak/" style="font-size: 15px;">peak</a> <a href="/tags/random/" style="font-size: 15px;">random</a> <a href="/tags/tree/" style="font-size: 15px;">tree</a> <a href="/tags/oracle/" style="font-size: 15px;">oracle</a> <a href="/tags/greddy/" style="font-size: 15px;">greddy</a> <a href="/tags/doubly-linked-list/" style="font-size: 15px;">doubly linked list</a> <a href="/tags/recursive/" style="font-size: 15px;">recursive</a> <a href="/tags/String/" style="font-size: 15px;">String</a> <a href="/tags/two-sigma/" style="font-size: 15px;">two sigma</a> <a href="/tags/paypal/" style="font-size: 15px;">paypal</a> <a href="/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/tags/partition/" style="font-size: 15px;">partition</a> <a href="/tags/subset/" style="font-size: 15px;">subset</a> <a href="/tags/ebay/" style="font-size: 15px;">ebay</a> <a href="/tags/twitter/" style="font-size: 15px;">twitter</a> <a href="/tags/east/" style="font-size: 15px;">east</a> <a href="/tags/indeed/" style="font-size: 15px;">indeed</a> <a href="/tags/map/" style="font-size: 15px;">map</a> <a href="/tags/snapchat/" style="font-size: 15px;">snapchat</a> <a href="/tags/STL/" style="font-size: 15px;">STL</a> <a href="/tags/C-11/" style="font-size: 15px;">C++ 11</a> <a href="/tags/MSDN/" style="font-size: 15px;">MSDN</a> <a href="/tags/interview/" style="font-size: 15px;">interview</a> <a href="/tags/double-linked-list/" style="font-size: 15px;">double linked list</a> <a href="/tags/BST/" style="font-size: 15px;">BST</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/space-complexity/" style="font-size: 15px;">space complexity</a> <a href="/tags/cycle-detection/" style="font-size: 15px;">cycle detection</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a> <a href="/tags/economics/" style="font-size: 15px;">economics</a> <a href="/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/tags/tree-traversal/" style="font-size: 15px;">tree traversal</a> <a href="/tags/preorder/" style="font-size: 15px;">preorder</a> <a href="/tags/inorder/" style="font-size: 15px;">inorder</a> <a href="/tags/postorder/" style="font-size: 15px;">postorder</a> <a href="/tags/binary-tree/" style="font-size: 15px;">binary tree</a> <a href="/tags/blockchain/" style="font-size: 15px;">blockchain</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/lower-bound/" style="font-size: 15px;">lower_bound</a> <a href="/tags/upper-bound/" style="font-size: 15px;">upper_bound</a> <a href="/tags/refer/" style="font-size: 15px;">refer</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/09/15/1344-Angle-Between-Hands-of-a-Clock/">1344. Angle Between Hands of a Clock</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/15/670-Maximum-Swap/">670. Maximum Swap</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/14/282-Expression-Add-Operators/">282. Expression Add Operators</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/14/556-Next-Greater-Element-III/">556. Next Greater Element III</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/14/503-Next-Greater-Element-II/">503. Next Greater Element II</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/14/496-Next-Greater-Element-I/">496. Next Greater Element I</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/13/708-Insert-into-a-Sorted-Circular-Linked-List/">708. Insert into a Sorted Circular Linked List</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/13/151-Reverse-Words-in-a-String/">151. Reverse Words in a String</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/12/1213-Intersection-of-Three-Sorted-Arrays/">1213. Intersection of Three Sorted Arrays</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/08/24/381-Insert-Delete-GetRandom-O-1-Duplicates-allowed/">381. Insert Delete GetRandom O(1) - Duplicates allowed</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> blogroll</i></div><ul></ul><a href="https://www.linkedin.com/in/lawrence0229/" title="linlaw's Linkedin" target="_blank">linlaw's Linkedin</a><ul></ul><a href="https://github.com/linlaw0229" title="linlaw's Github" target="_blank">linlaw's Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">linlaw Techblog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></div><!--  a(rel='nofollow', target='_blank', href='https://github.com/tufu9441/maupassant-hexo')  Theme|  by
a(rel='nofollow', target='_blank', href='https://github.com/pagecho')  Cho.--></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>